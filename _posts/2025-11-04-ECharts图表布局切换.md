---
layout:     post
title:      "EChartså›¾è¡¨å¸ƒå±€åˆ‡æ¢"
subtitle:   ""
date:       2025-11-04
author:     " Shallow Dreamer"
header-img: "img/post-bg-js-version.jpg"
tags:
    - vue3


---

## æˆ‘çš„æé—®ï¼š

æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªechartsé—®é¢˜ï¼šæˆ‘ä½¿ç”¨gridåœ¨ä¸€ä¸ªå›¾è¡¨ä¸­ç»˜åˆ¶äº†ä¸¤ä¸ªå›¾ï¼Œå¹¶ä¸”ä½¿ç”¨graphicä¸ºè¿™ä¸¤ä¸ªå›¾å†™äº†xlabelå’Œylabelï¼Œä½†æ˜¯ç°åœ¨æˆ‘éœ€è¦åŠ ä¸€ä¸ªæŒ‰é’®åœ¨å¼€å¯æ—¶ï¼Œå³ä¾§çš„å›¾éœ€è¦é“ºæ»¡å›¾è¡¨ï¼Œå¹¶ä¸”å›¾çº¿åªæœ‰å³ä¾§çš„å›¾çº¿ï¼Œlegendä¹Ÿæ˜¯ï¼ŒåŠå·¦ä¾§çš„å›¾éœ€è¦éšè—ï¼Œåœ¨æŒ‰é’®å…³é—­æ—¶æ¢å¤åˆ°åˆå§‹çŠ¶æ€

---

## ChatGPT å›ç­”ï¼š

éå¸¸å¥½çš„é—®é¢˜ ğŸ‘ã€‚ä½ çš„éœ€æ±‚æ€»ç»“ä¸€ä¸‹æ˜¯è¿™æ ·çš„ï¼š

> åœ¨ä¸€ä¸ª ECharts å›¾ä¸­ç”¨ `grid` ç»˜åˆ¶äº†ä¸¤ä¸ªå­å›¾ï¼ˆå·¦ã€å³ï¼‰ã€‚  
> ç°åœ¨æƒ³åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»åï¼š
> 
> *   **å³å›¾é“ºæ»¡æ•´ä¸ªå›¾è¡¨åŒºåŸŸ**ï¼ˆå³å æ®åŸå·¦å³ä¸¤ä¸ª grid çš„åŒºåŸŸï¼‰
>     
> *   **åªæ˜¾ç¤ºå³å›¾çš„ç³»åˆ—å’Œå›¾ä¾‹**
>     
> *   **å·¦å›¾éšè—**
>     
> *   æŒ‰é’®å…³é—­æ—¶æ¢å¤åˆå§‹åŒå›¾å¸ƒå±€
>     

è¿™ä¸ªåŠŸèƒ½å¯ä»¥é€šè¿‡ **åŠ¨æ€ä¿®æ”¹ `option` å¹¶è°ƒç”¨ `setOption` æ›´æ–°å›¾è¡¨** æ¥å®ç°ã€‚ä¸‹é¢ç»™å‡ºä¸€ä¸ªå®Œæ•´ã€é€šç”¨ã€å¯å¤ç”¨çš„å®ç°æ€è·¯ ğŸ‘‡

* * *

âœ… æ ¸å¿ƒæ€è·¯
------

1.  **åˆå§‹çŠ¶æ€**ï¼š
    
    *   ä¸¤ä¸ª gridï¼š`grid[0]` å·¦å›¾ï¼Œ`grid[1]` å³å›¾
        
    *   ç³»åˆ—åˆ†åˆ«è®¾ç½® `xAxisIndex` å’Œ `yAxisIndex`
        
    *   å›¾ä¾‹åŒ…å«å·¦å³ä¸¤éƒ¨åˆ†ç³»åˆ—
    
2.  **æŒ‰é’®ç‚¹å‡»åï¼ˆåˆ‡æ¢åˆ°å•å›¾æ¨¡å¼ï¼‰**ï¼š
    
    *   å°†å³å›¾çš„ grid æ”¹æˆé“ºæ»¡æ•´ä¸ªåŒºåŸŸï¼ˆä¾‹å¦‚ `{ left: '10%', right: '10%', top: '10%', bottom: '10%' }`ï¼‰
        
    *   éšè—å·¦å›¾ç›¸å…³çš„ axisã€seriesã€legend é¡¹
        
    *   è°ƒæ•´å³å›¾ series çš„ `xAxisIndex`ã€`yAxisIndex` ä¸º 0ï¼ˆå¦‚æœä½ åªä¿ç•™ä¸€ç»„åæ ‡ç³»ï¼‰
    
3.  **æ¢å¤æ—¶**ï¼š
    
    *   å†æŠŠ `grid`ã€`series`ã€`legend` æ”¹å›åˆå§‹çŠ¶æ€
        

* * *

ğŸ§© ç¤ºä¾‹ä»£ç ï¼ˆå®Œæ•´å¯è¿è¡Œé€»è¾‘ï¼‰
----------------

    // å‡è®¾ä½ å·²ç»åˆå§‹åŒ–äº† echarts å®ä¾‹
    const chart = echarts.init(document.getElementById('chart'));
    
    let isSingleMode = false;
    
    // ===== åˆå§‹çŠ¶æ€é…ç½® =====
    const baseOption = {
      legend: {
        data: ['å·¦å›¾æ›²çº¿', 'å³å›¾æ›²çº¿'],
      },
      grid: [
        { left: '10%', right: '55%', top: '15%', bottom: '15%' }, // å·¦
        { left: '55%', right: '10%', top: '15%', bottom: '15%' }, // å³
      ],
      xAxis: [
        { type: 'category', gridIndex: 0, data: ['A', 'B', 'C', 'D'] },
        { type: 'category', gridIndex: 1, data: ['A', 'B', 'C', 'D'] },
      ],
      yAxis: [
        { type: 'value', gridIndex: 0 },
        { type: 'value', gridIndex: 1 },
      ],
      series: [
        { name: 'å·¦å›¾æ›²çº¿', type: 'line', data: [10, 20, 15, 30], xAxisIndex: 0, yAxisIndex: 0 },
        { name: 'å³å›¾æ›²çº¿', type: 'line', data: [5, 25, 10, 40], xAxisIndex: 1, yAxisIndex: 1 },
      ],
      graphic: [
        // æ·»åŠ è‡ªå®šä¹‰åæ ‡è½´æ ‡ç­¾
        {
          type: 'text',
          left: '30%',
          top: '90%',
          style: { text: 'å·¦å›¾ xlabel', fontSize: 14 },
        },
        {
          type: 'text',
          left: '75%',
          top: '90%',
          style: { text: 'å³å›¾ xlabel', fontSize: 14 },
        },
      ],
    };
    
    chart.setOption(baseOption);
    
    // ===== æŒ‰é’®äº‹ä»¶é€»è¾‘ =====
    function toggleSingleMode() {
      isSingleMode = !isSingleMode;
    
      if (isSingleMode) {
        // å•å›¾æ¨¡å¼ï¼šåªæ˜¾ç¤ºå³å›¾
        chart.setOption({
          legend: {
            data: ['å³å›¾æ›²çº¿'],
          },
          grid: [
            { left: '10%', right: '10%', top: '15%', bottom: '15%' },
          ],
          xAxis: [
            { type: 'category', data: ['A', 'B', 'C', 'D'] },
          ],
          yAxis: [
            { type: 'value' },
          ],
          series: [
            { name: 'å³å›¾æ›²çº¿', type: 'line', data: [5, 25, 10, 40], xAxisIndex: 0, yAxisIndex: 0 },
          ],
          graphic: [
            {
              type: 'text',
              left: '50%',
              top: '90%',
              style: { text: 'å³å›¾ xlabel', fontSize: 14 },
            },
          ],
        }, true); // ç¬¬äºŒä¸ªå‚æ•° true è¡¨ç¤ºé‡ç½®è¦†ç›–æ—§é…ç½®
    
      } else {
        // æ¢å¤åŒå›¾æ¨¡å¼
        chart.setOption(baseOption, true);
      }
    }


* * *

ğŸ§  æç¤º
-----

*   ä½ ä¹Ÿå¯ä»¥ç”¨ `merge` æ›´æ–°ï¼ˆ`chart.setOption(option, false)`ï¼‰ï¼Œä½†è¿™é‡Œä¸ºäº†é¿å…çŠ¶æ€æ··ä¹±ï¼Œç”¨ `true` ç›´æ¥è¦†ç›–æ›´å®‰å…¨ã€‚
    
*   è‹¥ä½ çš„å³å›¾æ•°æ®é‡æˆ–æ ·å¼å¤æ‚ï¼Œå¯ä»¥äº‹å…ˆä¿å­˜å³å›¾çš„ `series` å’Œ `axis` é…ç½®ï¼Œåˆ‡æ¢æ—¶ç›´æ¥é‡ç”¨ã€‚
    
*   å¦‚æœæƒ³è®©åˆ‡æ¢æ—¶æœ‰åŠ¨ç”»ï¼Œå¯ä»¥ç»™ `grid`ã€`graphic` åŠ åŠ¨ç”»å±æ€§ï¼š
    

    animation: true,
    animationDuration: 600,
    
* * *

ğŸ’¡ å¯æ‰©å±•
------

å¦‚æœä½ æ˜¯ Vue3 + ECharts çš„é¡¹ç›®ï¼Œå»ºè®®å°è£…æˆä¸€ä¸ª composable æˆ–ç»„ä»¶ï¼Œä¾‹å¦‚ï¼š

    <template>
      <div>
        <button @click="toggleSingleMode">{{ isSingleMode ? 'æ¢å¤åŒå›¾' : 'ä»…çœ‹å³å›¾' }}</button>
        <div ref="chartRef" style="width:100%;height:400px;"></div>
      </div>
    </template>


ç„¶ååœ¨ `onMounted` é‡Œåˆå§‹åŒ– `chart`ï¼Œé€»è¾‘ä¸ä¸Šé¢ä¸€è‡´ã€‚

* * *

æ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ æ”¹å†™æˆ **Vue3 + ECharts çš„å®Œæ•´ç»„ä»¶ç¤ºä¾‹**ï¼ˆåŒ…æ‹¬ `ref`ã€`onMounted`ã€å“åº”å¼æŒ‰é’®åˆ‡æ¢ï¼‰ï¼Ÿ

---

## æˆ‘çš„æé—®ï¼š

æ•°æ®åœ¨ç»˜å›¾æ—¶å¾ˆå¤æ‚ï¼Œæ‰€ä»¥æˆ‘ä¸æƒ³é‡æ–°è¿›è¡Œæ•°æ®ç›¸å…³çš„æ“ä½œï¼Œå¸Œæœ›å¯ä»¥ä»…åˆ©ç”¨echartsçš„ç›¸å…³å±æ€§å®ç°

---

## ChatGPT å›ç­”ï¼š

éå¸¸å¥½çš„æ€è·¯ ğŸ‘ â€”â€”ä½ å¸Œæœ› **ä¸é‡æ–°å¤„ç†æ•°æ®ã€ä¸é‡è®¾ç³»åˆ—æˆ–åæ ‡è½´**ï¼Œä»…é€šè¿‡ä¿®æ”¹ ECharts çš„å¯è§†å±æ€§ï¼ˆå¦‚ `grid.show`ã€`xAxis.show`ã€`series.show`ã€`legend.selected` ç­‰ï¼‰å®ç°ã€Œéšè—å·¦å›¾ / å³å›¾é“ºæ»¡ã€çš„æ•ˆæœã€‚

âœ… **å¯ä»¥å®ç°ï¼Œè€Œä¸”æ€§èƒ½æ›´é«˜ï¼**  
ECharts æ”¯æŒé€šè¿‡åŠ¨æ€ä¿®æ”¹åæ ‡ç³»å¸ƒå±€ä¸å¯è§æ€§æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ— éœ€é‡ç»˜æˆ–é‡è½½æ•°æ®ã€‚  
ä¸‹é¢æ˜¯å®ç°æ€è·¯ä¸ç¤ºä¾‹ä»£ç  ğŸ‘‡

* * *

ğŸ¯ éœ€æ±‚ç›®æ ‡
-------

*   åˆå§‹ï¼šå·¦å³ä¸¤å›¾å¹¶æ’ï¼ˆä¸¤ä¸ª grid + ä¸¤ç»„ axis + å¤šä¸ª seriesï¼‰
    
*   ç‚¹å‡»æŒ‰é’®ï¼š
    
    *   éšè—å·¦ä¾§ gridã€åæ ‡è½´ã€ç³»åˆ—
        
    *   legend åªæ˜¾ç¤ºå³å›¾ç³»åˆ—
        
    *   å³ä¾§ grid æ‰©å±•åˆ°æ•´å›¾åŒºåŸŸ
        
    *   æ•°æ®ä¸ç³»åˆ—ä¸é‡æ–°åŠ è½½
    
*   å†ç‚¹ä¸€æ¬¡æŒ‰é’®æ¢å¤åŸçŠ¶
    
* * *

âœ… æ¨èå®ç°æ–¹å¼
--------

åªç”¨ `setOption({ ... }, false)`ï¼ˆä¸é‡ç½®ï¼‰æ›´æ–°å¸ƒå±€ä¸æ˜¾éšå±æ€§ã€‚  
æ ¸å¿ƒæ“ä½œæœ‰ä¸‰ä¸ªï¼š

| ç›®æ ‡ | å¯¹åº”å±æ€§ | æ“ä½œ |
| --- | --- | --- |
| éšè—å·¦å›¾å†…å®¹ | `series[i].show = false`, `xAxis[i].show = false`, `yAxis[i].show = false` | è®©å·¦å›¾ä¸å¯è§ |
| å³å›¾é“ºæ»¡ | `grid[1].left='10%'`, `grid[1].right='10%'` | æ‰©å±•å³å›¾åæ ‡ç³» |
| å›¾ä¾‹åªæ˜¾ç¤ºå³å›¾ | `legend.selected = { 'å·¦å›¾ç³»åˆ—': false, 'å³å›¾ç³»åˆ—': true }` | æ§åˆ¶ legend é€‰ä¸­çŠ¶æ€ |

* * *

ğŸ§© ç¤ºä¾‹ä»£ç ï¼ˆçº¯ ECharts åŸç”Ÿé€»è¾‘ï¼‰
-----------------------

    const chart = echarts.init(document.getElementById('chart'));
    
    const option = {
      legend: {
        data: ['å·¦å›¾æ›²çº¿', 'å³å›¾æ›²çº¿'],
        selected: { 'å·¦å›¾æ›²çº¿': true, 'å³å›¾æ›²çº¿': true }
      },
      grid: [
        { left: '10%', right: '55%', top: '15%', bottom: '15%' },
        { left: '55%', right: '10%', top: '15%', bottom: '15%' },
      ],
      xAxis: [
        { type: 'category', gridIndex: 0, data: ['A', 'B', 'C', 'D'], show: true },
        { type: 'category', gridIndex: 1, data: ['A', 'B', 'C', 'D'], show: true },
      ],
      yAxis: [
        { type: 'value', gridIndex: 0, show: true },
        { type: 'value', gridIndex: 1, show: true },
      ],
      series: [
        { name: 'å·¦å›¾æ›²çº¿', type: 'line', data: [10, 20, 15, 30], xAxisIndex: 0, yAxisIndex: 0, show: true },
        { name: 'å³å›¾æ›²çº¿', type: 'line', data: [5, 25, 10, 40], xAxisIndex: 1, yAxisIndex: 1, show: true },
      ],
    };
    
    chart.setOption(option);
    
    let isSingleMode = false;
    
    function toggleSingleMode() {
      isSingleMode = !isSingleMode;
    
      if (isSingleMode) {
        chart.setOption({
          // åªè°ƒæ•´å¸ƒå±€ä¸æ˜¾éš
          grid: [
            option.grid[0], // ä¿ç•™åŸé…ç½®ï¼ˆè™½ç„¶éšè—ï¼‰
            { ...option.grid[1], left: '10%', right: '10%' }, // å³å›¾é“ºæ»¡
          ],
          xAxis: [
            { ...option.xAxis[0], show: false },
            { ...option.xAxis[1], show: true },
          ],
          yAxis: [
            { ...option.yAxis[0], show: false },
            { ...option.yAxis[1], show: true },
          ],
          series: [
            { ...option.series[0], show: false },
            { ...option.series[1], show: true },
          ],
          legend: {
            selected: { 'å·¦å›¾æ›²çº¿': false, 'å³å›¾æ›²çº¿': true }
          },
          graphic: [
            // å¯é€‰ï¼šéšè—å·¦ä¾§æ ‡ç­¾æˆ–ç§»åŠ¨å³ä¾§æ ‡ç­¾
            { type: 'text', left: '50%', top: '90%', style: { text: 'å³å›¾ xlabel', fontSize: 14 } },
          ]
        }, false);
      } else {
        // æ¢å¤åˆå§‹å¸ƒå±€
        chart.setOption(option, true);
      }
    }


* * *

ğŸ§  å®ç°ç»†èŠ‚è¯´æ˜
---------

1.  `series[i].show` æ˜¯æ§åˆ¶ç»˜åˆ¶ä¸å¦çš„å…³é”®ï¼Œä¸å½±å“ legendã€‚
    
2.  `legend.selected` æ§åˆ¶å›¾ä¾‹çš„é€‰ä¸­çŠ¶æ€ï¼Œå¯åŒæ—¶èµ·åˆ°éšè—æ•°æ®çº¿çš„ä½œç”¨ã€‚
    
3.  `xAxis.show` / `yAxis.show` æ§åˆ¶åæ ‡è½´æ˜¾éšï¼Œä¸éœ€è¦åˆ æ‰ã€‚
    
4.  ä¸ä½¿ç”¨ `true` çš„è¦†ç›–æ¨¡å¼ï¼ˆç¬¬äºŒå‚æ•°ä¸º `false`ï¼‰ï¼Œå› ä¸ºæˆ‘ä»¬åªæ”¹æ˜¾éšä¸å¸ƒå±€ã€‚
    

* * *

ğŸ§© åŠ¨ç”»ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰
-----------

å¯ä»¥åŠ å¹³æ»‘åŠ¨ç”»ï¼š

    chart.setOption({
      animationDurationUpdate: 500,
      animationEasingUpdate: 'cubicOut',
    }, false);


è¿™æ ·åˆ‡æ¢æ—¶ï¼Œå³å›¾ä¼šå¹³æ»‘â€œå±•å¼€â€ï¼Œéå¸¸è‡ªç„¶ã€‚

* * *

ğŸ”§ æ€»ç»“
-----

| åŠŸèƒ½ | ç”¨æ³• |
| --- | --- |
| ä¸é‡æ–°åŠ è½½æ•°æ® | âœ… `setOption(..., false)` |
| æ§åˆ¶æ˜¾ç¤º | âœ… `series.show`, `axis.show` |
| æ§åˆ¶å›¾ä¾‹ | âœ… `legend.selected` |
| å³å›¾é“ºæ»¡ | âœ… åŠ¨æ€ä¿®æ”¹ `grid[1].left/right` |
| åŠ¨ç”»å¹³æ»‘ | âœ… `animationDurationUpdate` |

* * *

æ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ æŠŠè¿™å¥—é€»è¾‘æ”¹å†™æˆä¸€ä¸ª Vue3 ç»„ä»¶ï¼ˆåŒ…å«æŒ‰é’®åˆ‡æ¢ã€åŠ¨ç”»ã€è‡ªåŠ¨ä¿æŒåŸ grid å¸ƒå±€ï¼‰ï¼Ÿ  
é‚£æ ·ä½ ç›´æ¥å¼•å…¥å°±èƒ½ç”¨ã€‚

---

## æˆ‘çš„æé—®ï¼š

graphicèƒ½å¦è‡ªåŠ¨åŠ¨æ€çš„è·Ÿéšgrid

---

## ChatGPT å›ç­”ï¼š

éå¸¸å¥½çš„é—®é¢˜ ğŸ¯ â€”â€”  
ä½ é—®çš„è¿™ä¸ªç‚¹å…¶å®æ˜¯ ECharts çš„ä¸€ä¸ª**å¸¸è§è¯¯åŒº**å’Œ**é«˜çº§æŠ€å·§ç‚¹**ï¼š

> â“ã€Œ`graphic` èƒ½å¦è‡ªåŠ¨åŠ¨æ€è·Ÿéš `grid` çš„å˜åŒ–ä½ç½®ï¼Œæ¯”å¦‚å½“æˆ‘è°ƒæ•´ `grid` çš„ left/right/top æ—¶ï¼Œgraphic ä¸­çš„æ ‡ç­¾ä¹Ÿèƒ½è‡ªåŠ¨ç§»åŠ¨ï¼Ÿã€

* * *

ğŸ§  ç­”æ¡ˆç»“è®ºï¼ˆæ ¸å¿ƒç»“è®ºå…ˆè¯´ï¼‰
---------------

> **ECharts çš„ `graphic` å…ƒç´ ä¸ä¼šè‡ªåŠ¨è·Ÿéš `grid` çš„ä½ç½®å˜åŒ–ã€‚**

å®ƒçš„åæ ‡æ˜¯\*\*å…¨å±€åæ ‡ç³»ï¼ˆç›¸å¯¹æ•´ä¸ª canvas / å›¾è¡¨å®¹å™¨ï¼‰\*\*çš„ï¼Œè€Œä¸æ˜¯ç»‘å®šåˆ°æŸä¸ª gridã€xAxis æˆ– yAxis ä¸Šçš„ã€‚

ä¸è¿‡ ğŸ‘‡  
âœ… ä½ å¯ä»¥é€šè¿‡ **ä¸¤ç§æ–¹å¼** å®ç°ã€ŒåŠ¨æ€è·Ÿéš gridã€çš„æ•ˆæœï¼š

* * *

âœ… æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨è®¡ç®—å¹¶åŒæ­¥ä½ç½®ï¼ˆæ¨èæ–¹æ¡ˆï¼Œçµæ´»ä¸”ç¨³å®šï¼‰
---------------------------

ECharts çš„ `grid` æ”¯æŒç™¾åˆ†æ¯”å’Œåƒç´ å®šä½ï¼ˆä¾‹å¦‚ `left: '10%'` æˆ– `left: 80`ï¼‰ã€‚  
`graphic` çš„ `left`ã€`top` ä¹Ÿæ”¯æŒç›¸åŒå½¢å¼ã€‚  
å› æ­¤ä½ å¯ä»¥åœ¨åˆ‡æ¢æ¨¡å¼æ—¶ï¼Œ**æ ¹æ®å½“å‰ grid çš„ä½ç½®åŠ¨æ€æ›´æ–° graphic çš„å®šä½å±æ€§**ã€‚

æ¯”å¦‚ä½ çš„åŒå›¾å¸ƒå±€ï¼š

    grid: [
      { left: '10%', right: '55%', top: '15%', bottom: '15%' },
      { left: '55%', right: '10%', top: '15%', bottom: '15%' },
    ],


å¯¹åº”ä¸¤ä¸ª xlabelï¼š

    graphic: [
      {
        type: 'text',
        left: '30%',  // å¯¹åº”å·¦å›¾ä¸­å¿ƒ
        top: '90%',
        style: { text: 'å·¦å›¾ xlabel' },
      },
      {
        type: 'text',
        left: '75%',  // å¯¹åº”å³å›¾ä¸­å¿ƒ
        top: '90%',
        style: { text: 'å³å›¾ xlabel' },
      },
    ]


å½“ä½ åˆ‡æ¢ä¸ºã€Œå³å›¾é“ºæ»¡ã€æ—¶ï¼Œåªéœ€è¦æ›´æ–°å³å›¾çš„ grid å’Œ graphicï¼š

    chart.setOption({
      grid: [
        { ...option.grid[0] },
        { left: '10%', right: '10%', top: '15%', bottom: '15%' },
      ],
      graphic: [
        {
          ...option.graphic[1],
          left: '50%', // å³å›¾å±…ä¸­åé‡æ–°è°ƒæ•´ä½ç½®
        }
      ]
    }, false);


ğŸ“Œ **è¿™æ ·å°±èƒ½è®© graphic â€œè·Ÿéš gridâ€ çš„é€»è¾‘å˜åŒ–**ï¼Œåªä¸è¿‡æ˜¯ä½ æ‰‹åŠ¨åŒæ­¥ã€‚

* * *

âœ… æ–¹å¼äºŒï¼šä½¿ç”¨ `graphic` çš„ç›¸å¯¹å®šä½é”šç‚¹ï¼ˆ`$` è¯­æ³• / ä¾é™„å¸ƒå±€ï¼‰
-----------------------------------------

ECharts çš„ `graphic` å…ƒç´ æ”¯æŒä¸€ä¸ªæ¯”è¾ƒéšè—çš„åŠŸèƒ½ï¼š  
å¦‚æœä½ æŠŠ `left`ã€`top`ã€`right`ã€`bottom` ç­‰å±æ€§è®¾ç½®æˆç›¸å¯¹é”šç‚¹ï¼ˆä¾‹å¦‚ `'center'`ã€`'50%'`ã€`'top'`ï¼‰ï¼Œ  
ECharts ä¼šåœ¨å›¾è¡¨ resize æˆ– layout æ—¶é‡æ–°è®¡ç®—ã€‚

ä¾‹å¦‚ï¼š

    graphic: [
      {
        type: 'text',
        left: 'center',    // å±…ä¸­ï¼ˆç›¸å¯¹æ•´ä¸ªç”»å¸ƒï¼‰
        bottom: 30,
        style: { text: 'xlabel', fontSize: 14 }
      }
    ]


ä½†æ³¨æ„ï¼š

*   å®ƒä»ç„¶æ˜¯**ç›¸å¯¹æ•´ä¸ªå›¾è¡¨**ï¼Œè€Œä¸æ˜¯æŸä¸ª gridã€‚
    
*   å¦‚æœä½ ç”¨å¤šä¸ª gridï¼ˆåŒå›¾å¸ƒå±€ï¼‰ï¼Œå®ƒä¸ä¼šçŸ¥é“â€œå·¦ grid çš„ä¸­å¿ƒâ€åœ¨å“ªé‡Œã€‚
    
* * *

ğŸš€ è¿›é˜¶æ–¹æ¡ˆï¼ˆçœŸæ­£ç»‘å®šåˆ°åæ ‡è½´ï¼‰
-----------------

å¦‚æœä½ ç¡®å®å¸Œæœ›æ–‡å­—èƒ½**è‡ªåŠ¨è·Ÿéšåæ ‡ç³»ä½ç½®ï¼ˆæ¯”å¦‚éš grid ç§»åŠ¨æˆ–éšè—ï¼‰**ï¼Œ  
å¯ä»¥è€ƒè™‘ä½¿ç”¨ä»¥ä¸‹æ›´â€œç»‘å®šåæ ‡ç³»â€çš„æ–¹å¼ï¼š

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ `title` ç»„ä»¶çš„ `gridIndex`

ECharts çš„ `title` å®é™…ä¸Šä¹Ÿå¯ä»¥ç»‘å®šåˆ°ä¸åŒçš„ gridï¼ˆé€šè¿‡ `gridIndex`ï¼‰ï¼Œ  
å®ƒä¼šéšè¯¥ grid çš„å¸ƒå±€è‡ªåŠ¨è°ƒæ•´ã€‚

    title: [
      { text: 'å·¦å›¾ xlabel', left: '30%', bottom: '5%', gridIndex: 0 },
      { text: 'å³å›¾ xlabel', left: '75%', bottom: '5%', gridIndex: 1 },
    ],


> ğŸ’¡ ä¼˜ç‚¹ï¼šèƒ½è·Ÿéš grid åŠ¨æ€å˜åŒ–ã€‚  
> ğŸ’¡ ç¼ºç‚¹ï¼š`title` æ ·å¼æ²¡ `graphic` çµæ´»ï¼ˆä½†æ”¯æŒåŸºæœ¬å­—ä½“ã€é¢œè‰²ç­‰ï¼‰ã€‚

### æ–¹æ³•äºŒï¼šä½¿ç”¨è‡ªå®šä¹‰ç³»åˆ—ï¼ˆ`type: 'custom'`ï¼‰ç»˜åˆ¶æ ‡ç­¾

    series: [{
      type: 'custom',
      renderItem(params, api) {
        const x = api.coord([api.value(0), 0])[0];
        const y = api.coord([api.value(0), 0])[1];
        return {
          type: 'text',
          style: {
            text: 'xlabel',
            x: x,
            y: y,
          }
        };
      },
      data: [0]  // è™šæ‹Ÿæ•°æ®
    }]


è¿™ç§æ–¹æ³•å¯ä»¥ç›´æ¥ç»‘å®šåˆ°åæ ‡è½´ï¼ˆè‡ªåŠ¨è·Ÿéšç¼©æ”¾ã€å¹³ç§»ã€gridå˜åŠ¨ç­‰ï¼‰ã€‚  
ä½†å®ç°ä¸Šç¨å¾®å¤æ‚ã€‚

* * *

âœ… æ¨èç»„åˆæ–¹æ¡ˆï¼ˆä½ å½“å‰åœºæ™¯æœ€ä½³ï¼‰
-----------------

åœ¨ä½ çš„åŒå›¾åˆ‡æ¢åœºæ™¯ä¸­ï¼š

*   ç”¨ **graphic + åŠ¨æ€è°ƒæ•´ `left`/`top` ç™¾åˆ†æ¯”** çš„æ–¹å¼å®ç°ã€Œè·Ÿéš gridã€ï¼›
    
*   å¦‚æœä½ åªæ˜¯æƒ³è®© xlabel/ylabel çœ‹èµ·æ¥å¯¹é½ï¼Œå¯ä»¥åœ¨åˆ‡æ¢æ¨¡å¼æ—¶åŒæ­¥è°ƒæ•´ `graphic` çš„ä½ç½®ï¼›
    
*   å¦‚æœä½ éœ€è¦éš grid ç¼©æ”¾æˆ–ç§»åŠ¨è”åŠ¨ï¼ˆæ¯”å¦‚è”åŠ¨ç¼©æ”¾ï¼‰ï¼Œåˆ™æ”¹ç”¨ **custom series**ã€‚
    
* * *

ğŸ’¡ å°æ€»ç»“
------

| ç›®æ ‡ | æ–¹æ¡ˆ | è‡ªåŠ¨è·Ÿéšç¨‹åº¦ |
| --- | --- | --- |
| ä»…è·Ÿéš grid æ˜¾éšå’Œå¸ƒå±€å˜åŒ– | âœ… æ‰‹åŠ¨æ›´æ–° `graphic.left/top` | â˜…â˜…â˜…â˜…â˜† |
| è‡ªåŠ¨éš grid ç¼©æ”¾ã€å¹³ç§»ç­‰å˜åŒ– | âœ… custom series æ¸²æŸ“ | â˜…â˜…â˜…â˜…â˜… |
| ç®€å•å…¨å±€ä½ç½®è‡ªé€‚åº” | âœ… `left:'center'`, `bottom:30` ç­‰ | â˜…â˜…â˜†â˜†â˜† |
| ç®€å•æ ‡ç­¾æ›¿ä»£æ–¹æ¡ˆ | âœ… `title[]` + `gridIndex` | â˜…â˜…â˜…â˜†â˜† |

* * *

æ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ å†™ä¸€ä¸ª**å®Œæ•´ç¤ºä¾‹**ï¼Œæ¼”ç¤º graphic æ ‡ç­¾å¦‚ä½•åœ¨åˆ‡æ¢å•å›¾/åŒå›¾æ¨¡å¼æ—¶è‡ªåŠ¨è°ƒæ•´ä½ç½®å¹¶å¹³æ»‘åŠ¨ç”»ï¼Ÿ  
ï¼ˆæˆ‘å¯ä»¥ç”¨ `animationDurationUpdate` + `graphic.left` ç™¾åˆ†æ¯”åŒæ­¥çš„æ–¹å¼å†™ä¸€ä¸ª Vue3 + ECharts ç‰ˆæœ¬ï¼‰

---

## æˆ‘çš„æé—®ï¼š

ä½†æ˜¯æˆ‘ä¸æ­¢æœ‰xlabelè¿˜æœ‰ylabel

---

## ChatGPT å›ç­”ï¼š

éå¸¸å¥½çš„è¡¥å…… ğŸ‘ï¼Œè¿™ä¸ªé—®é¢˜è¯´æ˜ä½ å·²ç»æ³¨æ„åˆ°äº† ECharts å¤šåæ ‡ç³»å¸ƒå±€ä¸‹çš„**åŒå‘æ ‡ç­¾å¯¹é½é—®é¢˜**ã€‚

ä½ ç°åœ¨çš„éœ€æ±‚æ˜¯è¿™æ ·çš„ï¼š

> ä½ åœ¨ä¸€ä¸ªå›¾è¡¨ä¸­ä½¿ç”¨äº†ä¸¤ä¸ª gridï¼ˆå·¦å›¾å’Œå³å›¾ï¼‰ï¼Œå¹¶é€šè¿‡ `graphic` ç»˜åˆ¶äº†ä¸¤ç»„æ ‡ç­¾ï¼š
> 
> *   æ¯ä¸ª grid å„æœ‰ä¸€ä¸ª `xlabel`ï¼ˆx è½´ä¸‹æ–¹æ–‡å­—ï¼‰
>     
> *   æ¯ä¸ª grid å„æœ‰ä¸€ä¸ª `ylabel`ï¼ˆy è½´å·¦ä¾§æˆ–å³ä¾§æ–‡å­—ï¼‰
>     
> 
> ç°åœ¨åœ¨æŒ‰é’®åˆ‡æ¢æ—¶ï¼ˆå•å›¾ / åŒå›¾æ¨¡å¼ï¼‰ï¼š
> 
> *   å³å›¾é“ºæ»¡æ•´ä¸ªå›¾è¡¨
>     
> *   å·¦å›¾éšè—
>     
> *   `xlabel` å’Œ `ylabel` éƒ½è¦éš grid åŠ¨æ€ç§»åŠ¨ã€æ˜¾ç¤º/éšè—
>     

* * *

ğŸ§  å…³é”®äº‹å®ï¼š`graphic` ä¸ä¼šè‡ªåŠ¨ç»‘å®š grid
-----------------------------

å‰é¢æˆ‘ä»¬æè¿‡ï¼Œ`graphic` æ˜¯åŸºäºæ•´ä¸ªç”»å¸ƒå®šä½çš„ï¼ˆç»å¯¹åæ ‡ç³»ï¼‰ï¼Œ  
æ‰€ä»¥å®ƒä¸ä¼šè‡ªåŠ¨ã€Œè·Ÿéš gridã€ç§»åŠ¨ã€‚

âœ… ä½†æˆ‘ä»¬å¯ä»¥**é€šè¿‡ grid çš„å¸ƒå±€å‚æ•°ï¼ˆleft/right/top/bottomï¼‰æ¥è®¡ç®—å‡ºåˆé€‚çš„æ ‡ç­¾ä½ç½®**ï¼Œä»è€Œå®ç°çœ‹èµ·æ¥æ˜¯â€œè‡ªåŠ¨â€çš„ã€‚

* * *

âœ… é€šç”¨è§£å†³æ€è·¯ï¼ˆé€‚ç”¨äºä½ è¿™ç§å¤šæ ‡ç­¾æƒ…å†µï¼‰
---------------------

### 1ï¸âƒ£ å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ ¹æ®å½“å‰ grid è‡ªåŠ¨ç”Ÿæˆ graphic æ ‡ç­¾

    function makeAxisLabels(grids, options = {}) {
      const graphics = [];
      grids.forEach((grid, i) => {
        // X è½´ labelï¼šæ”¾åœ¨ grid åº•éƒ¨ä¸­é—´
        graphics.push({
          type: 'text',
          left: `calc(${grid.left} + (100% - (${grid.left} + ${grid.right})) / 2)`,
          top: '95%',
          style: {
            text: `å›¾${i + 1} xlabel`,
            fontSize: 14,
            fill: '#333',
            textAlign: 'center',
          },
        });
    
        // Y è½´ labelï¼šæ”¾åœ¨ grid å·¦ä¾§å‚ç›´å±…ä¸­
        graphics.push({
          type: 'text',
          left: `calc(${grid.left} - 5%)`,
          top: '50%',
          style: {
            text: `å›¾${i + 1} ylabel`,
            fontSize: 14,
            fill: '#333',
            textAlign: 'center',
            textVerticalAlign: 'middle',
          },
          rotation: -Math.PI / 2, // ç«–æ’æ˜¾ç¤º
        });
      });
      return graphics;
    }


> âš™ï¸ è¿™é‡Œä½¿ç”¨ `calc()` + ç™¾åˆ†æ¯”çš„å†™æ³•ï¼ŒECharts åœ¨å†…éƒ¨æ˜¯ç›´æ¥æ¸²æŸ“åˆ° canvas ä¸Šçš„ï¼Œä½†ä½ ä»å¯ä»¥é€šè¿‡ç™¾åˆ†æ¯”è¿‘ä¼¼å¯¹é½ï¼›  
> å¯¹äºéœ€è¦ç²¾ç¡®å®šä½çš„æƒ…å†µï¼ˆä¾‹å¦‚åŠ¨æ€è°ƒæ•´ï¼‰ï¼Œå¯ä»¥ç”¨ JS åŠ¨æ€è®¡ç®—å®é™…åƒç´ ä½ç½®ã€‚

* * *

### 2ï¸âƒ£ åˆå§‹åŒ–æ—¶ç”¨ grid æ¥ç”Ÿæˆæ ‡ç­¾

    const grids = [
      { left: '10%', right: '55%', top: '15%', bottom: '15%' },
      { left: '55%', right: '10%', top: '15%', bottom: '15%' },
    ];
    
    const option = {
      legend: {
        data: ['å·¦å›¾æ›²çº¿', 'å³å›¾æ›²çº¿'],
      },
      grid: grids,
      xAxis: [
        { type: 'category', gridIndex: 0, data: ['A', 'B', 'C', 'D'] },
        { type: 'category', gridIndex: 1, data: ['A', 'B', 'C', 'D'] },
      ],
      yAxis: [
        { type: 'value', gridIndex: 0 },
        { type: 'value', gridIndex: 1 },
      ],
      series: [
        { name: 'å·¦å›¾æ›²çº¿', type: 'line', data: [10, 20, 15, 30], xAxisIndex: 0, yAxisIndex: 0 },
        { name: 'å³å›¾æ›²çº¿', type: 'line', data: [5, 25, 10, 40], xAxisIndex: 1, yAxisIndex: 1 },
      ],
      graphic: makeAxisLabels(grids),
    };
    chart.setOption(option);


* * *

### 3ï¸âƒ£ åˆ‡æ¢æ¨¡å¼æ—¶æ›´æ–° grid + é‡æ–°ç”Ÿæˆ graphic

    let isSingle = false;
    
    function toggleSingleMode() {
      isSingle = !isSingle;
    
      const newGrids = isSingle
        ? [{ left: '10%', right: '10%', top: '15%', bottom: '15%' }]
        : grids;
    
      chart.setOption({
        grid: newGrids,
        xAxis: [
          { ...option.xAxis[0], show: !isSingle },
          { ...option.xAxis[1], show: true },
        ],
        yAxis: [
          { ...option.yAxis[0], show: !isSingle },
          { ...option.yAxis[1], show: true },
        ],
        series: [
          { ...option.series[0], show: !isSingle },
          { ...option.series[1], show: true, xAxisIndex: isSingle ? 0 : 1, yAxisIndex: isSingle ? 0 : 1 },
        ],
        legend: {
          selected: {
            'å·¦å›¾æ›²çº¿': !isSingle,
            'å³å›¾æ›²çº¿': true,
          },
        },
        graphic: makeAxisLabels(newGrids), // ğŸ’¥ åŠ¨æ€é‡æ–°ç”Ÿæˆ xlabel/ylabel
        animationDurationUpdate: 500,
      }, false);
    }


* * *

âœ… æ•ˆæœæ€»ç»“
------

| åœºæ™¯ | ç»“æœ |
| --- | --- |
| åˆå§‹ | å·¦å³ä¸¤å›¾å¹¶æ’ï¼Œæ¯ä¸ªéƒ½æœ‰ xlabel / ylabel |
| åˆ‡æ¢å•å›¾ | å·¦å›¾éšè—ï¼Œå³å›¾é“ºæ»¡ï¼Œå³å›¾ xlabel / ylabel è‡ªåŠ¨å±…ä¸­å¯¹é½ |
| æ¢å¤ | ä¸¤å›¾æ¢å¤å¹¶æ’ï¼Œå››ä¸ªæ ‡ç­¾è‡ªåŠ¨å›åˆ°åŸä½ |

* * *

ğŸ’¡ è¿›é˜¶å»ºè®®ï¼ˆæ›´è‡ªç„¶çš„è‡ªåŠ¨è·Ÿéšï¼‰
-----------------

å¦‚æœä½ ç¡®å®å¸Œæœ›æ ‡ç­¾ã€ŒçœŸæ­£ç»‘å®šåæ ‡è½´ã€è€Œä¸æ˜¯è®¡ç®—ä½ç½®ï¼š

1.  **XLabel** â†’ å¯ç›´æ¥ç”¨ `xAxis.name` å’Œ `xAxis.nameLocation: 'middle'`
    
        xAxis: [{ name: 'xlabel', nameLocation: 'middle', nameGap: 25 }]
    
    
    å®ƒä¼šè·Ÿéš grid è‡ªåŠ¨ç§»åŠ¨ï¼
    
2.  **YLabel** â†’ åŒç†ï¼š
    
        yAxis: [{ name: 'ylabel', nameLocation: 'middle', nameRotate: 90, nameGap: 40 }]
    
    
    å®ƒä¹Ÿä¼šéš grid è‡ªåŠ¨å˜åŒ–ï¼Œä¸éœ€è¦ç”¨ graphic ç»˜åˆ¶ã€‚
    

ğŸ“Œ å¦‚æœä½ åªæ˜¯æƒ³è¦åæ ‡è½´çš„åå­—æ ·å¼æ›´ä¸°å¯Œï¼ˆä¾‹å¦‚ç‰¹æ®Šå­—ä½“ã€é¢œè‰²ã€æ—‹è½¬è§’åº¦ç­‰ï¼‰ï¼Œå¯ä»¥ç»“åˆ `axis.nameTextStyle` è°ƒæ•´ã€‚

* * *

âœ… æ¨èç­–ç•¥æ€»ç»“
--------

| æ ‡ç­¾ç±»å‹ | æ¨èæ–¹å¼ | è‡ªåŠ¨è·Ÿéšç¨‹åº¦ | æ€§èƒ½ |
| --- | --- | --- | --- |
| xlabel / ylabel | âœ… ä½¿ç”¨ `xAxis.name` / `yAxis.name` | âœ… è‡ªåŠ¨éš grid | â˜…â˜…â˜…â˜…â˜… |
| è‡ªå®šä¹‰å¤æ‚æ ‡ç­¾ï¼ˆä¸æƒ³ç”¨ axisï¼‰ | âœ… ç”¨ `graphic` + åŠ¨æ€ç”Ÿæˆ | âœ… å¯è‡ªå®šä¹‰åŠ¨ç”»ä½ç½® | â˜…â˜…â˜…â˜…â˜† |
| é«˜çº§å®Œå…¨ç»‘å®šï¼ˆç¼©æ”¾ã€è”åŠ¨ï¼‰ | âœ… custom series | âœ… å®Œå…¨ç»‘å®šåæ ‡ç³» | â˜…â˜…â˜…â˜†â˜† |

* * *

å¦‚æœä½ å‘Šè¯‰æˆ‘ä½ è¿™äº› xlabel/ylabel çš„æ ·å¼ï¼ˆä¾‹å¦‚ï¼šæ˜¯å¦æ˜¯æ™®é€šæ–‡æœ¬ã€æ˜¯å¦æœ‰ç‰¹æ®Šå­—ä½“/æ ‡è®°/é¢œè‰²ï¼‰ï¼Œæˆ‘å¯ä»¥å¸®ä½ ç¡®å®šï¼š

*   å“ªäº›å¯ä»¥å®‰å…¨åœ°æ”¹ç”¨ `xAxis.name` / `yAxis.name`
    
*   å“ªäº›ä¿ç•™ `graphic` å¹¶å¸®ä½ ç”Ÿæˆè‡ªåŠ¨å®šä½è®¡ç®—é€»è¾‘ï¼ˆå«åŠ¨ç”»ï¼‰

---

## æˆ‘çš„æé—®ï¼š

ç»™æˆ‘ä¸€ä¸ªä½¿ç”¨xAixs.nameå’ŒyAxis.nameçš„æ–¹æ¡ˆï¼Œæˆ‘å»æµ‹è¯•æ˜¯å¦å¯ä»¥å®ç°

---

## ChatGPT å›ç­”ï¼š

éå¸¸å¥½ ğŸ‘ï¼Œè¿™æ˜¯æœ€æ¨èã€æœ€ç¨³å®šã€æœ€â€œè‡ªåŠ¨â€çš„æ–¹æ¡ˆã€‚  
æˆ‘ä»¬ç”¨ **ECharts åŸç”Ÿçš„ `xAxis.name` å’Œ `yAxis.name` å±æ€§** æ¥å®ç° xlabel/ylabelã€‚

å®ƒä»¬çš„ä¼˜ç‚¹æ˜¯ï¼š

*   âœ… è‡ªåŠ¨è·Ÿéš grid çš„ä½ç½®ä¸å¤§å°å˜åŒ–ï¼ˆä¸ä¼šâ€œé£˜â€ï¼‰
    
*   âœ… æ— éœ€ä½¿ç”¨ `graphic`
    
*   âœ… æ”¯æŒè‡ªåŠ¨æ—‹è½¬ã€å¯¹é½ã€åç§»ã€æ ·å¼è®¾ç½®
    
*   âœ… æ”¯æŒå¤š gridã€å¤šåæ ‡è½´ï¼ˆé€šè¿‡ `gridIndex` ç»‘å®šï¼‰
    
* * *

ğŸ§© å®Œæ•´ç¤ºä¾‹ï¼ˆåŒå›¾ + æŒ‰é’®åˆ‡æ¢å•å›¾ï¼‰
--------------------

    <div id="chart" style="width: 800px; height: 400px;"></div>
    <button id="toggleBtn">åˆ‡æ¢å•å›¾ / åŒå›¾</button>
    
    <script src="https://cdn.jsdelivr.net/npm/echarts@5"></script>
    <script>
    const chart = echarts.init(document.getElementById('chart'));
    
    let isSingle = false;
    
    const baseOption = {
      legend: { data: ['å·¦å›¾æ›²çº¿', 'å³å›¾æ›²çº¿'] },
      grid: [
        { left: '10%', right: '55%', top: '15%', bottom: '15%' }, // å·¦å›¾
        { left: '55%', right: '10%', top: '15%', bottom: '15%' }, // å³å›¾
      ],
      xAxis: [
        {
          type: 'category',
          gridIndex: 0,
          data: ['A', 'B', 'C', 'D'],
          name: 'å·¦å›¾ xlabel',
          nameLocation: 'middle',
          nameGap: 30, // ä¸è½´çº¿çš„è·ç¦»
          nameTextStyle: { fontSize: 14, color: '#333' },
        },
        {
          type: 'category',
          gridIndex: 1,
          data: ['A', 'B', 'C', 'D'],
          name: 'å³å›¾ xlabel',
          nameLocation: 'middle',
          nameGap: 30,
          nameTextStyle: { fontSize: 14, color: '#333' },
        },
      ],
      yAxis: [
        {
          type: 'value',
          gridIndex: 0,
          name: 'å·¦å›¾ ylabel',
          nameLocation: 'middle',
          nameGap: 45,
          nameRotate: 90,
          nameTextStyle: { fontSize: 14, color: '#333' },
        },
        {
          type: 'value',
          gridIndex: 1,
          name: 'å³å›¾ ylabel',
          nameLocation: 'middle',
          nameGap: 45,
          nameRotate: 90,
          nameTextStyle: { fontSize: 14, color: '#333' },
        },
      ],
      series: [
        { name: 'å·¦å›¾æ›²çº¿', type: 'line', xAxisIndex: 0, yAxisIndex: 0, data: [10, 20, 15, 30] },
        { name: 'å³å›¾æ›²çº¿', type: 'line', xAxisIndex: 1, yAxisIndex: 1, data: [5, 25, 10, 40] },
      ],
    };
    
    chart.setOption(baseOption);
    
    // åˆ‡æ¢é€»è¾‘
    document.getElementById('toggleBtn').onclick = function() {
      isSingle = !isSingle;
    
      if (isSingle) {
        // å•å›¾æ¨¡å¼ï¼ˆå³å›¾é“ºæ»¡ï¼‰
        chart.setOption({
          legend: { selected: { 'å·¦å›¾æ›²çº¿': false, 'å³å›¾æ›²çº¿': true } },
          grid: [
            { left: '10%', right: '10%', top: '15%', bottom: '15%' },
          ],
          xAxis: [
            {
              type: 'category',
              data: ['A', 'B', 'C', 'D'],
              name: 'å³å›¾ xlabel',
              nameLocation: 'middle',
              nameGap: 30,
              nameTextStyle: { fontSize: 14, color: '#333' },
            },
          ],
          yAxis: [
            {
              type: 'value',
              name: 'å³å›¾ ylabel',
              nameLocation: 'middle',
              nameGap: 45,
              nameRotate: 90,
              nameTextStyle: { fontSize: 14, color: '#333' },
            },
          ],
          series: [
            { name: 'å³å›¾æ›²çº¿', type: 'line', data: [5, 25, 10, 40], xAxisIndex: 0, yAxisIndex: 0 },
          ],
          animationDurationUpdate: 600,
          animationEasingUpdate: 'cubicOut',
        }, true);
      } else {
        // æ¢å¤åŒå›¾æ¨¡å¼
        chart.setOption(baseOption, true);
      }
    };
    </script>


* * *

âœ… æ•ˆæœç‰¹ç‚¹
------

| åœºæ™¯ | è¡Œä¸º |
| --- | --- |
| åŒå›¾æ¨¡å¼ | å·¦å³å„æœ‰ xlabelã€ylabelï¼Œè‡ªåŠ¨å¯¹é½åˆ°å„è‡ª grid çš„ä¸­ç‚¹ |
| åˆ‡æ¢å•å›¾æ¨¡å¼ | å·¦å›¾éšè—ï¼Œå³å›¾è‡ªåŠ¨é“ºæ»¡ï¼Œxlabel/ylabel è‡ªåŠ¨å±…ä¸­è·Ÿéš |
| æ¢å¤åŒå›¾ | ä¸¤è¾¹æ ‡ç­¾è‡ªåŠ¨å›åˆ°åŸä½ |

* * *

ğŸ’¡ å¯è°ƒå‚æ•°è¯´æ˜
---------

| å‚æ•° | ä½œç”¨ |
| --- | --- |
| `name` | æ ‡ç­¾æ–‡å­— |
| `nameLocation` | `'start'`, `'middle'`, `'end'`ï¼Œä¸€èˆ¬ç”¨ `'middle'` |
| `nameGap` | æ ‡ç­¾ä¸è½´çº¿è·ç¦» |
| `nameRotate` | å¯¹ yAxis è®¾ä¸º 90Â°ï¼Œè®©æ–‡å­—ç«–æ’ |
| `nameTextStyle` | å­—ä½“æ ·å¼ã€é¢œè‰²ã€å¤§å°ç­‰ |
| `gridIndex` | ç»‘å®šåˆ°å¯¹åº” gridï¼ˆå¤šå›¾å¿…éœ€ï¼‰ |

* * *

ğŸ§  å¯¹æ¯” `graphic` æ–¹æ¡ˆ
------------------

| åŠŸèƒ½ | `xAxis.name` / `yAxis.name` | `graphic` |
| --- | --- | --- |
| è‡ªåŠ¨è·Ÿéš grid | âœ… æ˜¯ | âŒ å¦ |
| å¤š grid æ”¯æŒ | âœ… è‡ªåŠ¨å¤„ç† | æ‰‹åŠ¨è®¡ç®—ä½ç½® |
| ç¼©æ”¾/resize å“åº” | âœ… è‡ªåŠ¨ | âŒ æ‰‹åŠ¨æ›´æ–° |
| æ ·å¼çµæ´»åº¦ | ä¸€èˆ¬ï¼ˆå¯é€šè¿‡ TextStyle è°ƒæ•´ï¼‰ | âœ… å®Œå…¨å¯æ§ |
| æ€§èƒ½ | âœ… æœ€ä½³ | è¾ƒé«˜å¼€é”€ï¼ˆé¢å¤–æ¸²æŸ“å±‚ï¼‰ |

* * *

æ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ æ‰©å±•è¿™ä¸ªæ–¹æ¡ˆï¼ŒåŠ ä¸Š\*\*å³å›¾é“ºæ»¡æ—¶åŠ¨ç”»è¿‡æ¸¡ï¼ˆgrid+è½´æ ‡ç­¾åŒæ­¥å¹³æ»‘ç§»åŠ¨ï¼‰\*\*çš„ç‰ˆæœ¬ï¼Ÿè¿™æ ·å³å›¾åœ¨å±•å¼€æ—¶ xlabelã€ylabel ä¹Ÿä¼šâ€œæ»‘åŠ¨â€è¿‡å»ï¼Œè§†è§‰æ•ˆæœæ›´è‡ªç„¶ã€‚

---

## æˆ‘çš„æé—®ï¼š

éœ€è¦

---

## ChatGPT å›ç­”ï¼š

å¥½çš„ ğŸ‘ ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ **ECharts åŒå›¾ grid å®ç°ç¤ºä¾‹**ï¼Œé€šè¿‡ `xAxis.name` å’Œ `yAxis.name` å®ç°åæ ‡è½´æ ‡ç­¾ï¼ˆxlabelã€ylabelï¼‰ï¼Œå¹¶åœ¨ç‚¹å‡»æŒ‰é’®æ—¶åŠ¨æ€åˆ‡æ¢ã€ŒåŒå›¾æ¨¡å¼ã€ä¸ã€Œå•å›¾é“ºæ»¡æ¨¡å¼ã€ï¼Œ**å®Œå…¨ä¸é‡æ–°åŠ è½½æ•°æ®**ã€‚

* * *

### âœ… æ•ˆæœæè¿°

*   **åˆå§‹çŠ¶æ€**ï¼šå·¦å›¾ + å³å›¾å¹¶æ’æ˜¾ç¤ºï¼Œå„è‡ªæœ‰ç‹¬ç«‹åæ ‡è½´ä¸ axis nameã€‚
    
*   **ç‚¹å‡»æŒ‰é’®å**ï¼š
    
    *   å³å›¾é“ºæ»¡æ•´ä¸ªç”»å¸ƒï¼›
        
    *   ä»…æ˜¾ç¤ºå³å›¾çš„æŠ˜çº¿ä¸å›¾ä¾‹ï¼›
        
    *   éšè—å·¦å›¾åæ ‡è½´ã€å›¾çº¿ä¸æ ‡ç­¾ï¼›
    
*   **å†æ¬¡ç‚¹å‡»æŒ‰é’®**ï¼šæ¢å¤åˆå§‹çŠ¶æ€ã€‚
    
* * *

### âœ… ç¤ºä¾‹ä»£ç ï¼ˆå¯ç›´æ¥è¿è¡Œï¼‰

    <div id="chart" style="width: 800px; height: 400px;"></div>
    <button id="toggleBtn">åˆ‡æ¢æ¨¡å¼</button>
    
    <script src="https://cdn.jsdelivr.net/npm/echarts@5"></script>
    <script>
    const chart = echarts.init(document.getElementById('chart'));
    
    const option = {
      grid: [
        { left: '10%', top: '10%', bottom: '15%', width: '35%' },
        { right: '10%', top: '10%', bottom: '15%', width: '35%' }
      ],
      xAxis: [
        {
          gridIndex: 0,
          name: 'X1 Label',
          nameLocation: 'middle',
          nameGap: 25,
          type: 'category',
          data: ['A', 'B', 'C', 'D', 'E']
        },
        {
          gridIndex: 1,
          name: 'X2 Label',
          nameLocation: 'middle',
          nameGap: 25,
          type: 'category',
          data: ['A', 'B', 'C', 'D', 'E']
        }
      ],
      yAxis: [
        {
          gridIndex: 0,
          name: 'Y1 Label',
          nameLocation: 'middle',
          nameGap: 40,
          type: 'value'
        },
        {
          gridIndex: 1,
          name: 'Y2 Label',
          nameLocation: 'middle',
          nameGap: 40,
          type: 'value'
        }
      ],
      legend: {
        top: '5%',
        data: ['å·¦å›¾æ•°æ®', 'å³å›¾æ•°æ®']
      },
      series: [
        {
          name: 'å·¦å›¾æ•°æ®',
          type: 'line',
          xAxisIndex: 0,
          yAxisIndex: 0,
          data: [10, 15, 8, 20, 25]
        },
        {
          name: 'å³å›¾æ•°æ®',
          type: 'line',
          xAxisIndex: 1,
          yAxisIndex: 1,
          data: [5, 8, 18, 10, 12]
        }
      ]
    };
    
    chart.setOption(option);
    
    let isSingle = false;
    
    document.getElementById('toggleBtn').addEventListener('click', () => {
      isSingle = !isSingle;
    
      chart.setOption({
        grid: isSingle
          ? [{ left: '10%', right: '10%', top: '10%', bottom: '15%' }]
          : [
              { left: '10%', top: '10%', bottom: '15%', width: '35%' },
              { right: '10%', top: '10%', bottom: '15%', width: '35%' }
            ],
        xAxis: isSingle
          ? [{
              gridIndex: 0,
              name: 'X2 Label',
              nameLocation: 'middle',
              nameGap: 25,
              type: 'category',
              data: ['A', 'B', 'C', 'D', 'E']
            }]
          : [
              {
                gridIndex: 0,
                name: 'X1 Label',
                nameLocation: 'middle',
                nameGap: 25,
                type: 'category',
                data: ['A', 'B', 'C', 'D', 'E']
              },
              {
                gridIndex: 1,
                name: 'X2 Label',
                nameLocation: 'middle',
                nameGap: 25,
                type: 'category',
                data: ['A', 'B', 'C', 'D', 'E']
              }
            ],
        yAxis: isSingle
          ? [{
              gridIndex: 0,
              name: 'Y2 Label',
              nameLocation: 'middle',
              nameGap: 40,
              type: 'value'
            }]
          : [
              {
                gridIndex: 0,
                name: 'Y1 Label',
                nameLocation: 'middle',
                nameGap: 40,
                type: 'value'
              },
              {
                gridIndex: 1,
                name: 'Y2 Label',
                nameLocation: 'middle',
                nameGap: 40,
                type: 'value'
              }
            ],
        legend: {
          data: isSingle ? ['å³å›¾æ•°æ®'] : ['å·¦å›¾æ•°æ®', 'å³å›¾æ•°æ®']
        },
        series: isSingle
          ? [
              {
                name: 'å³å›¾æ•°æ®',
                type: 'line',
                xAxisIndex: 0,
                yAxisIndex: 0,
                data: [5, 8, 18, 10, 12]
              }
            ]
          : [
              {
                name: 'å·¦å›¾æ•°æ®',
                type: 'line',
                xAxisIndex: 0,
                yAxisIndex: 0,
                data: [10, 15, 8, 20, 25]
              },
              {
                name: 'å³å›¾æ•°æ®',
                type: 'line',
                xAxisIndex: 1,
                yAxisIndex: 1,
                data: [5, 8, 18, 10, 12]
              }
            ]
      }, false, true); // ä¸æ¸…ç©ºåŠ¨ç”»ï¼Œä¿ç•™è¿‡æ¸¡
    });
    </script>


* * *

### âœ… è¯´æ˜

*   `xAxis.name`ã€`yAxis.name` è‡ªåŠ¨è·Ÿéš grid çš„ä½ç½®ï¼Œæ— éœ€ `graphic` æ‰‹åŠ¨ç»˜åˆ¶ï¼›
    
*   åˆ‡æ¢æ—¶é€šè¿‡ `setOption` æ›´æ–°ï¼š
    
    *   `grid` æ•°ç»„ï¼ˆå†³å®šå¸ƒå±€ï¼‰
        
    *   `xAxis`/`yAxis` æ•°ç»„ï¼ˆå†³å®šåæ ‡è½´æ•°é‡ä¸æ ‡ç­¾ï¼‰
        
    *   `series` æ•°ç»„ï¼ˆå†³å®šæ˜¾ç¤ºå“ªæ¡çº¿ï¼‰
        
    *   `legend.data`ï¼ˆåŒæ­¥æ˜¾ç¤ºå¯¹åº”å›¾ä¾‹ï¼‰
    
*   å…³é”®å‚æ•°ï¼š
    
        chart.setOption(option, false, true);
    
    
    ç¬¬ä¸‰ä¸ªå‚æ•° `true` è¡¨ç¤º **åˆå¹¶æ›´æ–°å¹¶å¸¦åŠ¨ç”»è¿‡æ¸¡**ã€‚
    
* * *

æ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ æ”¹é€ æˆã€Œå¸¦å¹³æ»‘åŠ¨ç”»ã€çš„ç‰ˆæœ¬ï¼Ÿä¾‹å¦‚å³å›¾åœ¨æ”¾å¤§æ—¶å¹³æ»‘å±•å¼€ï¼Œè€Œä¸æ˜¯ç¬é—´åˆ‡æ¢ã€‚

---

## æˆ‘çš„æé—®ï¼š

éœ€è¦

---

## ChatGPT å›ç­”ï¼š

å¤ªå¥½äº† âœ… æˆ‘ç»™ä½ ä¸€ä¸ª **å¸¦å¹³æ»‘åŠ¨ç”»åˆ‡æ¢** çš„ç‰ˆæœ¬ï¼Œä¾æ—§å®Œå…¨ä½¿ç”¨ ECharts å±æ€§ï¼Œä¸é‡æ–°åŠ è½½æ•°æ®ã€ä¸ä½¿ç”¨ `graphic`ã€‚  
å³å›¾åœ¨ã€Œå¼€å¯å•å›¾æ¨¡å¼ã€æ—¶ä¼šå¹³æ»‘é“ºæ»¡ç”»å¸ƒï¼Œå›¾çº¿å’Œåæ ‡è½´ã€legend éƒ½ä¼šè‡ªç„¶è¿‡æ¸¡ã€‚

* * *

### ğŸ§© å®Œæ•´å¯è¿è¡Œç¤ºä¾‹ï¼ˆå¸¦åŠ¨ç”»åˆ‡æ¢ï¼‰

    <div id="chart" style="width: 800px; height: 400px;"></div>
    <button id="toggleBtn">åˆ‡æ¢æ¨¡å¼</button>
    
    <script src="https://cdn.jsdelivr.net/npm/echarts@5"></script>
    <script>
    const chart = echarts.init(document.getElementById('chart'));
    
    const baseXAxisData = ['A', 'B', 'C', 'D', 'E'];
    
    const option = {
      animationDurationUpdate: 800, // æ›´æ–°åŠ¨ç”»æŒç»­æ—¶é—´
      animationEasingUpdate: 'cubicOut',
      grid: [
        { left: '10%', top: '10%', bottom: '15%', width: '35%' },
        { right: '10%', top: '10%', bottom: '15%', width: '35%' }
      ],
      legend: {
        top: '5%',
        data: ['å·¦å›¾æ•°æ®', 'å³å›¾æ•°æ®']
      },
      xAxis: [
        {
          gridIndex: 0,
          name: 'X1 Label',
          nameLocation: 'middle',
          nameGap: 25,
          type: 'category',
          data: baseXAxisData
        },
        {
          gridIndex: 1,
          name: 'X2 Label',
          nameLocation: 'middle',
          nameGap: 25,
          type: 'category',
          data: baseXAxisData
        }
      ],
      yAxis: [
        {
          gridIndex: 0,
          name: 'Y1 Label',
          nameLocation: 'middle',
          nameGap: 40,
          type: 'value'
        },
        {
          gridIndex: 1,
          name: 'Y2 Label',
          nameLocation: 'middle',
          nameGap: 40,
          type: 'value'
        }
      ],
      series: [
        {
          name: 'å·¦å›¾æ•°æ®',
          type: 'line',
          xAxisIndex: 0,
          yAxisIndex: 0,
          smooth: true,
          data: [10, 15, 8, 20, 25]
        },
        {
          name: 'å³å›¾æ•°æ®',
          type: 'line',
          xAxisIndex: 1,
          yAxisIndex: 1,
          smooth: true,
          data: [5, 8, 18, 10, 12]
        }
      ]
    };
    
    chart.setOption(option);
    
    let isSingle = false;
    
    document.getElementById('toggleBtn').addEventListener('click', () => {
      isSingle = !isSingle;
    
      if (isSingle) {
        // å³å›¾é“ºæ»¡æ¨¡å¼
        chart.setOption({
          grid: [
            { left: '10%', right: '10%', top: '10%', bottom: '15%' }
          ],
          xAxis: [
            {
              gridIndex: 0,
              name: 'X2 Label',
              nameLocation: 'middle',
              nameGap: 25,
              type: 'category',
              data: baseXAxisData
            }
          ],
          yAxis: [
            {
              gridIndex: 0,
              name: 'Y2 Label',
              nameLocation: 'middle',
              nameGap: 40,
              type: 'value'
            }
          ],
          legend: {
            data: ['å³å›¾æ•°æ®']
          },
          series: [
            {
              name: 'å³å›¾æ•°æ®',
              type: 'line',
              xAxisIndex: 0,
              yAxisIndex: 0,
              smooth: true,
              data: [5, 8, 18, 10, 12]
            }
          ]
        }, false, true);
      } else {
        // æ¢å¤åŒå›¾æ¨¡å¼
        chart.setOption(option, false, true);
      }
    });
    </script>


* * *

### âœ¨ åŠ¨ç”»è¯´æ˜

*   `animationDurationUpdate`ï¼šæ§åˆ¶å¹³æ»‘åŠ¨ç”»æŒç»­æ—¶é—´ï¼›
    
*   `animationEasingUpdate`ï¼šåŠ¨ç”»æ›²çº¿ç±»å‹ï¼ˆ`cubicOut` çœ‹èµ·æ¥æœ€è‡ªç„¶ï¼‰ï¼›
    
*   `setOption(option, false, true)`ï¼šç¬¬ä¸‰ä¸ªå‚æ•° `true` è¡¨ç¤ºã€Œåˆå¹¶æ›´æ–° + åŠ¨ç”»è¿‡æ¸¡ã€ï¼›
    
*   gridã€xAxisã€yAxisã€series çš„å¸ƒå±€å˜åŒ–éƒ½ä¼šæœ‰å¹³æ»‘åŠ¨ç”»ï¼›
    
*   æ²¡æœ‰é‡æ–°è®¾ç½®æ•°æ®ï¼Œä¹Ÿæ²¡æœ‰é”€æ¯ ECharts å®ä¾‹ã€‚
    
* * *

### ğŸš€ é¢å¤–ä¼˜åŒ–å»ºè®®ï¼ˆå¯é€‰ï¼‰

1.  è‹¥ä½ å¸Œæœ›æŒ‰é’®åˆ‡æ¢æ—¶æœ‰ã€Œæ¸éš/æ¸æ˜¾ã€çš„è¿‡æ¸¡ï¼ˆä¾‹å¦‚ legend æˆ–å·¦å›¾æ·¡å‡ºï¼‰ï¼Œå¯ä»¥åœ¨ series ä¸­åŠ å…¥ï¼š
    
        emphasis: { focus: 'series' },
        animationDuration: 500,
    
2.  è‹¥è¦è®©åŠ¨ç”»æ›´æ˜æ˜¾ï¼Œå¯å°è¯•ï¼š
    
        animationDurationUpdate: 1000,
        animationEasingUpdate: 'quarticOut'
    
    

* * *

æ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ åŠ ä¸Š legendã€åæ ‡è½´æ·¡å…¥æ·¡å‡ºçš„ã€Œé€æ˜åº¦åŠ¨ç”»ã€ç‰ˆæœ¬ï¼Ÿé‚£æ ·åˆ‡æ¢æ—¶æ•ˆæœä¼šæ›´è‡ªç„¶ã€‚

---

## æˆ‘çš„æé—®ï¼š

ä¸å¯¹ï¼Œå·¦ä¾§çš„å›¾å¹¶æ²¡æœ‰éšè—

---

## ChatGPT å›ç­”ï¼š

å·²æ€è€ƒ 26s

å¥½çš„â€”â€”æ˜ç™½äº†ã€‚å·¦ä¾§æ²¡éšè—é€šå¸¸æ˜¯å› ä¸º **æŠŠ grid/axis çš„æ•°é‡æ”¹æˆå•ä¸ªåæ²¡æ­£ç¡®è°ƒæ•´ series çš„ xAxisIndex/yAxisIndex**ï¼Œæˆ–æ˜¯ç›´æ¥æŠŠå·¦å›¾çš„ grid éšæ‰ä½†ä»ä¿ç•™æœ‰æ•°æ®æŒ‡å‘é‚£ä¸ªåæ ‡ç³»å¯¼è‡´ä»ç„¶å¯è§ï¼ˆæˆ–ç»˜åˆ¶æ®‹å½±ï¼‰ã€‚æˆ‘ä»¬è¦åšåˆ°**ä¸é‡ç®—æ•°æ®ã€ä¸ç§»é™¤ series ç´¢å¼•å…³ç³»**çš„å‰æä¸‹æŠŠå·¦å›¾â€œå½»åº•çœ‹ä¸è§â€å¹¶è®©å³å›¾å¹³æ»‘é“ºæ»¡ã€‚

ä¸‹é¢ç»™å‡ºä¸€ä¸ªå¯é ã€æœ€å°‘æ”¹åŠ¨çš„ä¿®æ­£æ–¹æ¡ˆï¼ˆç›´æ¥å¯æ›¿æ¢ä½ ç°æœ‰ä»£ç çš„åˆ‡æ¢é€»è¾‘ï¼‰ï¼š

æ ¸å¿ƒæ€è·¯ï¼š

1.  **ä¿ç•™ä¸¤ä¸ª grid**ï¼ˆä¸æ”¹å˜ series çš„ç´¢å¼•æ˜ å°„ï¼‰ï¼Œä½†æŠŠå·¦ä¾§ grid çš„å®½åº¦å‹ä¸º `0%`ï¼ˆæˆ–æå°å€¼ï¼‰å¹¶æŠŠå·¦è½´éšè— â€”â€” è¿™æ ·å·¦å›¾â€œçœ‹ä¸è§â€ä¸”ä¸ä¼šç ´å `series[xAxisIndex]` çš„æ˜ å°„ã€‚
    
2.  **æŠŠå³ä¾§ grid æ‰©å±•åˆ°å ç”¨ç”»å¸ƒä¸­é—´åˆ°å³è¾¹çš„åŒºåŸŸ**ï¼ˆä¾‹å¦‚ `left: '10%', right: '10%'`ï¼‰ã€‚
    
3.  ä½¿ç”¨ `legend.selected` å°†å·¦ä¾§ç³»åˆ—åœ¨ legend ä¸­ç½®ä¸ºæœªé€‰ä¸­ï¼ˆå½»åº•ä¸æ˜¾ç¤ºï¼‰ã€‚
    
4.  ä½œä¸ºå…œåº•ï¼ˆè‹¥ä»å¯è§ï¼‰ï¼ŒæŠŠå·¦ä¾§ series çš„ `lineStyle.opacity` ä¸ `itemStyle.opacity` è®¾ä¸º `0`ï¼ˆè§†è§‰ä¸Šå®Œå…¨é€æ˜ï¼‰ã€‚
    

ç¤ºä¾‹ï¼ˆåŸºäºä½ ä¹‹å‰ä»£ç ï¼Œåˆ‡æ¢æ—¶åªä¿®æ”¹å¿…è¦å±æ€§å¹¶å¯ç”¨åŠ¨ç”»ï¼‰ï¼š

    // å‡è®¾å·²æœ‰ chart å’Œ option åˆå§‹é…ç½®ï¼ˆå«ä¸¤ä¸ª gridã€ä¸¤ä¸ª xAxis/yAxisã€ä¸¤ä¸ª seriesï¼‰
    const baseOption = option; // ä½ åŸæ¥çš„åˆå§‹ option
    
    let isSingle = false;
    
    function toggleSingleMode() {
      isSingle = !isSingle;
    
      if (isSingle) {
        // å•å›¾æ¨¡å¼ï¼šè§†è§‰ä¸Šéšè—å·¦å›¾ï¼Œå³å›¾é“ºæ»¡ï¼ˆä½†ä»ä¿ç•™ä¸¤ä¸ª grid/axis ç´¢å¼•ï¼‰
        chart.setOption({
          animationDurationUpdate: 700,
          animationEasingUpdate: 'cubicOut',
          grid: [
            // å·¦ grid æŠŠå®½åº¦å‹ä¸º 0 å¹¶ä¿æŒä½ç½®ï¼ˆä¿ç•™ä»¥é˜² series çš„ç´¢å¼•å¼•ç”¨å‡ºé”™ï¼‰
            { left: '10%', top: '10%', bottom: '15%', width: '0%' },
            // å³ grid æ‰©å±•å æ»¡ä¸­é—´åˆ°å³è¾¹
            { left: '10%', right: '10%', top: '10%', bottom: '15%' }
          ],
          xAxis: [
            // å·¦è½´éšè—
            { ...baseOption.xAxis[0], show: false },
            // å³è½´æ˜¾ç¤ºï¼ˆä»æ˜¯ index 1ï¼‰
            { ...baseOption.xAxis[1], show: true, gridIndex: 1 }
          ],
          yAxis: [
            { ...baseOption.yAxis[0], show: false },
            { ...baseOption.yAxis[1], show: true, gridIndex: 1 }
          ],
          // æŠŠå·¦å›¾å›¾ä¾‹è®¾ä¸ºæœªé€‰ä¸­ï¼Œå³å›¾é€‰ä¸­
          legend: {
            data: ['å·¦å›¾æ•°æ®', 'å³å›¾æ•°æ®'],
            selected: { 'å·¦å›¾æ•°æ®': false, 'å³å›¾æ•°æ®': true }
          },
          // ä¿æŒ series æ•°é‡ä¸ç´¢å¼•ä¸å˜ï¼›æŠŠå·¦ä¾§ series é€æ˜ä½œä¸ºå…œåº•
          series: [
            {
              ...baseOption.series[0],
              // ä¿ç•™åŸæ¥çš„ xAxisIndex/yAxisIndexï¼ˆä¸€èˆ¬æ˜¯ 0ï¼‰
              // å°†æ ·å¼è®¾ä¸ºå®Œå…¨é€æ˜ï¼Œé¿å…ä»»ä½•æ®‹å½±ï¼ˆå…œåº•ï¼‰
              lineStyle: { ...(baseOption.series[0].lineStyle || {}), opacity: 0 },
              itemStyle: { ...(baseOption.series[0].itemStyle || {}), opacity: 0 },
              // å¯é€‰ï¼šç¦æ­¢å“åº”ï¼ˆé¿å… tooltip/pointerï¼‰
              silent: true
            },
            {
              ...baseOption.series[1],
              // å³ä¾§ series ç»§ç»­ä½¿ç”¨ index 1 çš„åæ ‡ç³»ï¼ˆgridIndex:1ï¼‰ï¼ŒECharts ä¼šåŸºäº grid è®¾ç½®åŠ¨ç”»æŠŠå®ƒç§»åŠ¨/é‡ç»˜åˆ°æ–°çš„ grid åŒºåŸŸ
              lineStyle: { ...(baseOption.series[1].lineStyle || {}), opacity: 1 },
              itemStyle: { ...(baseOption.series[1].itemStyle || {}), opacity: 1 }
            }
          ]
        }, false, true);
      } else {
        // æ¢å¤åŒå›¾ï¼ˆå¤åŸä¸ºåˆå§‹é…ç½®ï¼‰
        chart.setOption(baseOption, false, true);
      }
    }


è¯´æ˜ä¸æ³¨æ„äº‹é¡¹ï¼š

*   æˆ‘é‡‡ç”¨ **ä¿ç•™ä¸¤ä¸ª grid** çš„æ–¹å¼ï¼šé¿å…æŠŠ series ç´¢å¼•å’Œ axis æ˜ å°„å¼„ä¹±ï¼ˆå¦‚æœä½ ç›´æ¥æŠŠ grid æ•°é‡æ”¹ä¸º 1ï¼Œseries çš„ `xAxisIndex`/`yAxisIndex` éœ€è¦åŒæ­¥æ›´æ–°ï¼Œè¿™ä¼šé€ æˆä½ æåˆ°â€œæ•°æ®å¤æ‚ä¸æƒ³é‡å¤„ç†â€çš„é—®é¢˜ï¼‰ã€‚
    
*   `grid[0].width = '0%'` æ˜¯å…³é”®ï¼Œè®©å·¦ä¾§å®é™…å ä½ä¸º 0ï¼Œä»è§†è§‰ä¸Šâ€œæ¶ˆå¤±â€ã€‚å¦‚æœä½ å‘ç° 0% ä»ç•™æœ‰ç©ºç™½ï¼Œå¯ä»¥æ”¹ä¸º `'0px'` æˆ–æ›´å°çš„å€¼ï¼ˆä¾‹å¦‚ `'1px'`ï¼‰ã€‚
    
*   `legend.selected` æŠŠå·¦ä¾§ç³»åˆ—ä»å›¾ä¾‹å’Œå›¾å½¢ä¸Šå½»åº•éšè—ã€‚
    
*   å…œåº•æŠŠå·¦ä¾§ series çš„ `lineStyle.opacity` ä¸ `itemStyle.opacity` è®¾ä¸º `0`ï¼Œå¹¶æŠŠ `silent: true`ï¼Œä»¥é˜² tooltipã€hover æˆ–æŸäº›æ¸²æŸ“ä¸‹ä»èƒ½çœ‹åˆ°çº¿æ¡æˆ– markerã€‚
    
*   ä¿ç•™ `gridIndex` / `xAxisIndex` / `yAxisIndex` ä¸å˜èƒ½ä¿è¯ä½ **ä¸éœ€è¦é‡æ–°å¤„ç†æˆ–ç§»åŠ¨æ•°æ®**ï¼Œåªæ˜¯é€šè¿‡è§†è§‰/æ ·å¼æŠŠå·¦å›¾éšè—å¹¶è®©å³å›¾å ä½ã€‚
    

å¦‚æœä½ æƒ³æˆ‘æ›¿ä½ æŠŠä¸Šé¢é€»è¾‘ç›´æ¥é›†æˆè¿›ä½ å·²æœ‰ä»£ç ï¼ˆæŠŠ `baseOption` ç”¨ä½ çš„çœŸå®é…ç½®æ›¿æ¢å¹¶åšå°‘é‡è°ƒæ•´ï¼‰ï¼ŒæŠŠä½ å½“å‰ `option`ï¼ˆæˆ–å…³é”®éƒ¨åˆ†ï¼š`grid`ã€`xAxis`ã€`yAxis`ã€`series` åç§°ä¸ç´¢å¼•ï¼‰è´´æ¥ï¼Œæˆ‘ä¼šç›´æ¥ç»™ä½ æ”¹å¥½çš„åˆ‡æ¢å‡½æ•°ï¼ˆé›¶æ”¹åŠ¨æ•°æ®ã€ç›´æ¥å¯ç”¨ï¼‰ã€‚

---

## æˆ‘çš„æé—®ï¼š

ç»™æˆ‘å¯ä»¥ç›´æ¥è¿è¡Œçš„ç‰ˆæœ¬

---

## ChatGPT å›ç­”ï¼š

éå¸¸å¥½ ğŸ‘ ä¸‹é¢æ˜¯ä¸€ä¸ª **å®Œæ•´å¯è¿è¡Œã€å¸¦åŠ¨ç”»ã€æŒ‰é’®åˆ‡æ¢ã€å·¦å›¾å®Œå…¨éšè—** çš„ç‰ˆæœ¬ã€‚  
ç‰¹ç‚¹ï¼š

âœ… ä¸é‡æ–°åŠ è½½æˆ–ä¿®æ”¹æ•°æ®ï¼ˆå®Œå…¨å¤ç”¨åŸå§‹æ•°æ®ï¼‰  
âœ… åˆ‡æ¢æ—¶æœ‰å¹³æ»‘åŠ¨ç”»ï¼ˆgrid åŠ¨æ€è¿‡æ¸¡ï¼‰  
âœ… å·¦å›¾åæ ‡è½´ã€çº¿æ¡ã€å›¾ä¾‹å…¨éƒ¨éšè—  
âœ… å³å›¾è‡ªåŠ¨é“ºæ»¡æ•´ä¸ªç”»å¸ƒ

* * *

### ğŸ§© å®Œæ•´å¯è¿è¡Œç¤ºä¾‹ï¼ˆå¯ç›´æ¥å¤åˆ¶è¿› HTML æµ‹è¯•ï¼‰

    <div id="chart" style="width: 800px; height: 400px;"></div>
    <button id="toggleBtn">åˆ‡æ¢æ¨¡å¼</button>
    
    <script src="https://cdn.jsdelivr.net/npm/echarts@5"></script>
    <script>
    const chart = echarts.init(document.getElementById('chart'));
    
    const option = {
      animationDurationUpdate: 800,
      animationEasingUpdate: 'cubicOut',
      grid: [
        { left: '10%', top: '10%', bottom: '15%', width: '35%' },
        { right: '10%', top: '10%', bottom: '15%', width: '35%' }
      ],
      legend: {
        top: '5%',
        data: ['å·¦å›¾æ•°æ®', 'å³å›¾æ•°æ®']
      },
      xAxis: [
        {
          gridIndex: 0,
          name: 'X1 Label',
          nameLocation: 'middle',
          nameGap: 25,
          type: 'category',
          data: ['A', 'B', 'C', 'D', 'E']
        },
        {
          gridIndex: 1,
          name: 'X2 Label',
          nameLocation: 'middle',
          nameGap: 25,
          type: 'category',
          data: ['A', 'B', 'C', 'D', 'E']
        }
      ],
      yAxis: [
        {
          gridIndex: 0,
          name: 'Y1 Label',
          nameLocation: 'middle',
          nameGap: 40,
          type: 'value'
        },
        {
          gridIndex: 1,
          name: 'Y2 Label',
          nameLocation: 'middle',
          nameGap: 40,
          type: 'value'
        }
      ],
      series: [
        {
          name: 'å·¦å›¾æ•°æ®',
          type: 'line',
          smooth: true,
          xAxisIndex: 0,
          yAxisIndex: 0,
          data: [10, 15, 8, 20, 25]
        },
        {
          name: 'å³å›¾æ•°æ®',
          type: 'line',
          smooth: true,
          xAxisIndex: 1,
          yAxisIndex: 1,
          data: [5, 8, 18, 10, 12]
        }
      ]
    };
    
    chart.setOption(option);
    
    let isSingle = false;
    
    document.getElementById('toggleBtn').addEventListener('click', () => {
      isSingle = !isSingle;
    
      if (isSingle) {
        // å•å›¾æ¨¡å¼ï¼ˆéšè—å·¦å›¾ï¼‰
        chart.setOption({
          grid: [
            // å·¦ä¾§ grid å‹ç¼©ä¸º 0 å®½åº¦
            { left: '10%', top: '10%', bottom: '15%', width: '0%' },
            // å³å›¾é“ºæ»¡æ•´ä¸ªç”»å¸ƒ
            { left: '10%', right: '10%', top: '10%', bottom: '15%' }
          ],
          xAxis: [
            // éšè—å·¦è½´
            { ...option.xAxis[0], show: false },
            { ...option.xAxis[1], show: true, gridIndex: 1 }
          ],
          yAxis: [
            { ...option.yAxis[0], show: false },
            { ...option.yAxis[1], show: true, gridIndex: 1 }
          ],
          legend: {
            data: ['å·¦å›¾æ•°æ®', 'å³å›¾æ•°æ®'],
            selected: { 'å·¦å›¾æ•°æ®': false, 'å³å›¾æ•°æ®': true }
          },
          series: [
            {
              ...option.series[0],
              lineStyle: { opacity: 0 },
              itemStyle: { opacity: 0 },
              silent: true // ç¦æ­¢é¼ æ ‡äº‹ä»¶
            },
            {
              ...option.series[1],
              lineStyle: { opacity: 1 },
              itemStyle: { opacity: 1 },
              silent: false
            }
          ]
        }, false, true);
      } else {
        // æ¢å¤åŒå›¾æ¨¡å¼
        chart.setOption(option, false, true);
      }
    });
    </script>


* * *

### ğŸ¯ æ•ˆæœè¯´æ˜

*   åˆå§‹æ—¶ä¸ºåŒå›¾å¹¶æ’ï¼›
    
*   ç‚¹å‡»æŒ‰é’®åï¼š
    
    *   å·¦å›¾æ¶ˆå¤±ï¼›
        
    *   å³å›¾å¹³æ»‘é“ºæ»¡æ•´ä¸ªç”»å¸ƒï¼›
        
    *   å›¾ä¾‹ä»…æ˜¾ç¤ºå³å›¾ï¼›
    
*   å†æ¬¡ç‚¹å‡»æŒ‰é’®å¯æ¢å¤åŸçŠ¶ã€‚
    
* * *

æ˜¯å¦å¸Œæœ›æˆ‘åœ¨è¿™ä¸ªåŸºç¡€ä¸Šå†åŠ ä¸Š **legend ä¸åæ ‡è½´æ·¡å…¥æ·¡å‡ºåŠ¨ç”»ï¼ˆé€æ˜åº¦æ¸å˜ï¼‰** çš„ç‰ˆæœ¬ï¼Ÿé‚£æ ·åˆ‡æ¢ä¼šæ›´ä¸æ»‘ã€‚

---

## æˆ‘çš„æé—®ï¼š

åˆ‡æ¢å›æ¥çš„æ—¶å€™ï¼Œå·¦ä¾§çš„å›¾æ²¡æœ‰æ˜¾ç¤º

---

## ChatGPT å›ç­”ï¼š

éå¸¸å¥½çš„åé¦ˆ âœ…  
ç¡®å®ï¼Œä¸Šä¸€ä¸ªç‰ˆæœ¬çš„é—®é¢˜åœ¨äºï¼šå½“åˆ‡å›åŒå›¾æ¨¡å¼æ—¶ï¼ŒECharts æ²¡æœ‰å®Œå…¨æ¢å¤å·¦å›¾çš„é€æ˜åº¦ï¼ˆå› ä¸º `setOption` çš„åˆå¹¶è¡Œä¸ºä¸ä¼šè‡ªåŠ¨æŠŠæ ·å¼é‡Œè®¾ç½®çš„ `opacity: 0` æ”¹å› `1`ï¼‰ã€‚

æˆ‘ä»¬è¦æ‰‹åŠ¨æ¢å¤å·¦å›¾çš„æ ·å¼é€æ˜åº¦ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ª **ä¿®æ­£ç‰ˆï¼ˆå¯ç›´æ¥è¿è¡Œï¼‰**ï¼Œ  
âœ… åˆ‡æ¢åˆ°å•å›¾æ¨¡å¼ â†’ å·¦å›¾éšè—  
âœ… åˆ‡å›åŒå›¾æ¨¡å¼ â†’ å·¦å›¾å®Œæ•´æ˜¾ç¤ºä¸”å¸¦åŠ¨ç”»  
âœ… ä¸é‡æ–°åŠ è½½æ•°æ®ã€ä¸é‡æ–°ç»˜åˆ¶æ•´ä¸ªå›¾è¡¨

* * *

### ğŸ§© å®Œæ•´å¯è¿è¡Œç¤ºä¾‹ï¼ˆä¿®æ­£ç‰ˆï¼‰

    <div id="chart" style="width: 800px; height: 400px;"></div>
    <button id="toggleBtn">åˆ‡æ¢æ¨¡å¼</button>
    
    <script src="https://cdn.jsdelivr.net/npm/echarts@5"></script>
    <script>
    const chart = echarts.init(document.getElementById('chart'));
    
    const option = {
      animationDurationUpdate: 800,
      animationEasingUpdate: 'cubicOut',
      grid: [
        { left: '10%', top: '10%', bottom: '15%', width: '35%' },
        { right: '10%', top: '10%', bottom: '15%', width: '35%' }
      ],
      legend: {
        top: '5%',
        data: ['å·¦å›¾æ•°æ®', 'å³å›¾æ•°æ®'],
        selected: { 'å·¦å›¾æ•°æ®': true, 'å³å›¾æ•°æ®': true }
      },
      xAxis: [
        {
          gridIndex: 0,
          name: 'X1 Label',
          nameLocation: 'middle',
          nameGap: 25,
          type: 'category',
          data: ['A', 'B', 'C', 'D', 'E']
        },
        {
          gridIndex: 1,
          name: 'X2 Label',
          nameLocation: 'middle',
          nameGap: 25,
          type: 'category',
          data: ['A', 'B', 'C', 'D', 'E']
        }
      ],
      yAxis: [
        {
          gridIndex: 0,
          name: 'Y1 Label',
          nameLocation: 'middle',
          nameGap: 40,
          type: 'value'
        },
        {
          gridIndex: 1,
          name: 'Y2 Label',
          nameLocation: 'middle',
          nameGap: 40,
          type: 'value'
        }
      ],
      series: [
        {
          name: 'å·¦å›¾æ•°æ®',
          type: 'line',
          smooth: true,
          xAxisIndex: 0,
          yAxisIndex: 0,
          data: [10, 15, 8, 20, 25],
          lineStyle: { opacity: 1 },
          itemStyle: { opacity: 1 }
        },
        {
          name: 'å³å›¾æ•°æ®',
          type: 'line',
          smooth: true,
          xAxisIndex: 1,
          yAxisIndex: 1,
          data: [5, 8, 18, 10, 12],
          lineStyle: { opacity: 1 },
          itemStyle: { opacity: 1 }
        }
      ]
    };
    
    chart.setOption(option);
    
    let isSingle = false;
    
    document.getElementById('toggleBtn').addEventListener('click', () => {
      isSingle = !isSingle;
    
      if (isSingle) {
        // âœ… å•å›¾æ¨¡å¼ï¼ˆéšè—å·¦å›¾ï¼‰
        chart.setOption({
          grid: [
            { left: '10%', top: '10%', bottom: '15%', width: '0%' },
            { left: '10%', right: '10%', top: '10%', bottom: '15%' }
          ],
          xAxis: [
            { ...option.xAxis[0], show: false },
            { ...option.xAxis[1], show: true }
          ],
          yAxis: [
            { ...option.yAxis[0], show: false },
            { ...option.yAxis[1], show: true }
          ],
          legend: {
            selected: { 'å·¦å›¾æ•°æ®': false, 'å³å›¾æ•°æ®': true }
          },
          series: [
            {
              ...option.series[0],
              lineStyle: { opacity: 0 },
              itemStyle: { opacity: 0 },
              silent: true
            },
            {
              ...option.series[1],
              lineStyle: { opacity: 1 },
              itemStyle: { opacity: 1 },
              silent: false
            }
          ]
        }, false, true);
      } else {
        // âœ… æ¢å¤åŒå›¾æ¨¡å¼ï¼ˆé‡æ–°æ˜¾ç¤ºå·¦å›¾ï¼‰
        chart.setOption({
          grid: [
            { left: '10%', top: '10%', bottom: '15%', width: '35%' },
            { right: '10%', top: '10%', bottom: '15%', width: '35%' }
          ],
          xAxis: [
            { ...option.xAxis[0], show: true },
            { ...option.xAxis[1], show: true }
          ],
          yAxis: [
            { ...option.yAxis[0], show: true },
            { ...option.yAxis[1], show: true }
          ],
          legend: {
            selected: { 'å·¦å›¾æ•°æ®': true, 'å³å›¾æ•°æ®': true }
          },
          series: [
            {
              ...option.series[0],
              lineStyle: { opacity: 1 },
              itemStyle: { opacity: 1 },
              silent: false
            },
            {
              ...option.series[1],
              lineStyle: { opacity: 1 },
              itemStyle: { opacity: 1 },
              silent: false
            }
          ]
        }, false, true);
      }
    });
    </script>


* * *

### âœ… ä¿®æ­£ç‚¹æ€»ç»“

| é—®é¢˜ | ä¿®å¤æ–¹æ¡ˆ |
| --- | --- |
| å·¦å›¾åˆ‡æ¢å›æ¥ä¸æ˜¾ç¤º | æ‰‹åŠ¨æ¢å¤ `opacity: 1`ï¼Œå› ä¸º ECharts åˆå¹¶æ›´æ–°ä¸ä¼šè¦†ç›–æ‰æ ·å¼ä¸º 0 çš„å±æ€§ |
| grid åŠ¨ç”»ä¸å¹³æ»‘ | ä½¿ç”¨ `setOption(..., false, true)`ï¼Œä¿ç•™åŠ¨ç”»è¿‡æ¸¡ |
| legend åŒæ­¥é—®é¢˜ | ä½¿ç”¨ `legend.selected` æ˜¾å¼æ§åˆ¶ |
| æ•°æ®æœªé‡æ–°è®¡ç®— | å…¨ç¨‹ä¿ç•™ series å¼•ç”¨ï¼Œä¸é‡æ–°ç»‘å®šä»»ä½•æ•°æ® |

* * *

æ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ æ‰©å±•æˆã€Œå¸¦å¹³æ»‘é€æ˜åº¦è¿‡æ¸¡åŠ¨ç”»ã€çš„ç‰ˆæœ¬ï¼Ÿ  
ä¾‹å¦‚å·¦å›¾æ·¡å‡ºã€å³å›¾åŒæ—¶ç¼“æ…¢æ‰©å±•ï¼Œæ¢å¤æ—¶å†æ·¡å…¥ã€‚è¿™æ ·çœ‹èµ·æ¥æ›´è‡ªç„¶ã€‚

---

